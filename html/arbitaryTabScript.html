<html>
<body>
<a href="javascript:(
function(){
	let P = open('','empty');
	let toggleHidden = function(e){
		e.target.parentElement.classList.toggle('hidden',(e.target.checked ? true : false));
	};
	let ltoggleHidden = function(e){
		e.target.previousSibling.click();
	};
	let f = function(e){
		let v = P.document.body.appendChild(document.createElement('div'));
		let cb = v.appendChild(document.createElement('input'));
		let l = v.appendChild(document.createElement('label'));
		cb.type = 'checkbox';
		cb.onclick = toggleHidden;
		l.textContent = 'Hidden';
		l.onclick = ltoggleHidden;
	};
	let b = P.document.querySelector('#loneButton');
	if (!b){
		b = P.document.body.appendChild(document.createElement('button'));
		b.id = 'loneButton';
		b.textContent = 'button';
	}
	b.onclick = f;
	Array.from(P.document.body.querySelectorAll('input')).forEach(cb=>cb.onclick=toggleHidden);
	Array.from(P.document.body.querySelectorAll('label')).forEach(cb=>cb.onclick=ltoggleHidden);
}()
)
">Start</a>
</body>
</html>